###########################
# Portugal Republic Events
###########################

add_namespace = por

# Intro Event
country_event = {
	id = por.1
	title = por.1.t
	desc = por.1.d
	picture = GFX_portugalflag
    is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = por.1.a
		ai_chance = { factor = 100 }
	}
}

country_event = {
	id = por.2
	title = por.2.t
	desc = por.2.d
	picture = GFX_report_event_british_artillery

	fire_only_once = yes

	trigger = {
		tag = POR
		date > 1932.1.18
		has_war = no
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = por.2.a
		add_manpower = -20
		ai_chance = {
			factor = 100
		}
		hidden_effect = {
			PRM = {
				country_event = { days = 1 id = prm.2 }
			}
		}
	}
}

country_event = {
	id = por.3
	title = por.3.t
	desc = por.3.d
	picture = GFX_report_event_french_resistance_02

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = por.3.a
		set_country_flag = POR_civil_war_check
		declare_war_on = {
		target = PRM
		type = annex_everything 
		}
		load_oob = POR_militias1
		ai_chance = {
			factor = 100
		}
	}
}

country_event = { # End of the Civil War
	id = por.4
	title = por.4.t
	desc = por.4.d
	picture = GFX_report_event_spain_civil_war_soldiers

	fire_only_once = yes

	trigger = {
		tag = POR
		NOT = {
			country_exists = PRM
		}
	}

	mean_time_to_happen = {
		days = 5
	}

	option = {
		name = por.4.a

		add_political_power = 100
		set_country_flag = POR_civil_war_over
		remove_ideas = POR_divided_country
		add_ideas = POR_recovering_civil_war
		delete_unit_template_and_units = { division_template = "Brigada Republicana" }
		hidden_effect = {
			POR = {
				country_event = { days = 10 id = por.5 }
			}
		}
	}
}

country_event = { # Communist Coup
	id = por.5
	title = por.5.t
	desc = por.5.d
	picture = GFX_report_event_spain_civil_war_soldiers

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = por.5.a
		add_political_power = 50
		set_country_flag = POR_benevolent_revolution
		add_popularity = {
			ideology = revolutionary_socialist popularity = 0.10
			ideology = marxist_leninist popularity = -0.05
		}
	}
	option = {
		name = por.5.b
		add_political_power = -50
		set_country_flag = POR_communist_coup
		set_politics = { ruling_party = marxist_leninist elections_allowed = no }
		add_popularity = {
			ideology = marxist_leninist popularity = 0.15
			ideology = revolutionary_socialist popularity = -0.10
		}
	}
}