###########################
# Livonia Focus Tree
# By sparkz
###########################

focus_tree = {
	id = LIV_focus
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = LIV
		}
	}

	shared_focus = LIV_ERP
	shared_focus = LIV_Army_Start
	shared_focus = LIV_Army_Mil_Navy1
	shared_focus = LIV_Air1	

### Political Focus ###

focus = {
		id = LIV_Duchy_Restoration
		icon = GFX_BAT_germanisation
		mutually_exclusive = { focus = LIV_Emancipation }
		available = { has_country_flag = LIV_future }
		bypass = { has_country_flag = LIV_future }
		x = 6
		y = 0
		cost = 8.6
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			custom_effect_tooltip = LIV_duchy_restoration_tt
		}
	}

focus = {
		id = LIV_Duchy_Kaiser
		icon = GFX_BAT_germanisation
		prerequisite = { focus = LIV_Duchy_Restoration }
		available = { has_country_flag = LIV_kaiser }
		x = 2
		y = 1
		cost = 8.6
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			add_stability = 0.1
		}
	}

focus = {
		id = LIV_Emancipation
		icon = GFX_BAT_emancipation
		mutually_exclusive = { focus = LIV_Duchy_Kaiser }
		prerequisite = { focus = LIV_Duchy_Restoration }
		available = { has_country_flag = LIV_politic }
		x = 10
		y = 1
		cost = 10
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_popularity = { ideology = social_conservative popularity = 0.05 }
			add_popularity = { ideology = market_liberal popularity = 0.05}
			add_popularity = { ideology = social_democrat popularity = 0.05 }
			add_popularity = { ideology = social_liberal popularity = 0.05 }
		}
	}
	
### Kaiser Restoration Tree ###

focus = {
		id = LIV_Duchy_Kaiser_Ind
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = LIV_Duchy_Kaiser }
		available = {
			has_government = paternal_autocrat
			NOT = { is_subject_of = RUS }
			controls_state = 190
		}
		x = -2
		y = 1
		relative_position_id = LIV_Duchy_Kaiser
		cost = 10
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			add_political_power = -50
			add_stability = -0.05
			add_popularity = { ideology = paternal_autocrat popularity = 0.01 }
			LIV = { country_event = { id = balticduchy.140 days = 2 } }
		}
	}

focus = {
		id = LIV_Ger_Livland1
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = LIV_Duchy_Kaiser }
		available = {
			has_government = paternal_autocrat
			NOT = { is_subject_of = RUS }
			controls_state = 12
		}
		x = 0
		y = 1
		relative_position_id = LIV_Duchy_Kaiser
		cost = 10
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			add_political_power = -50
			add_stability = -0.05
			add_popularity = { ideology = paternal_autocrat popularity = 0.01 }
			LIV = { country_event = { id = balticduchy.141 days = 2 } }
		}
	}

focus = {
		id = LIV_Ger_Estland1
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = LIV_Duchy_Kaiser }
		available = {
			has_government = paternal_autocrat
			NOT = { is_subject_of = RUS }
			controls_state = 13
		}
		x = 2
		y = 1
		relative_position_id = LIV_Duchy_Kaiser
		cost = 10
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			add_political_power = -50
			add_stability = -0.05
			add_popularity = { ideology = paternal_autocrat popularity = 0.01 }
			LIV = { country_event = { id = balticduchy.142 days = 2 } }
		}
	}

focus = {
		id = LIV_Ger_Kurland2
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = LIV_Duchy_Kaiser_Ind }
		available = { has_country_flag = LIV_COL_KUR }
		available = {
			has_government = paternal_autocrat
			NOT = { is_subject_of = RUS }
			controls_state = 190
		}
		x = -2
		y = 2
		relative_position_id = LIV_Duchy_Kaiser
		cost = 10
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			add_stability = 0.1
			add_popularity = { ideology = paternal_autocrat popularity = 0.01 }
			190 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

focus = {
		id = LIV_Ger_Livland2
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = LIV_Ger_Livland1 }
		available = { has_country_flag = LIV_COL_LIV }
		available = {
			has_government = paternal_autocrat
			NOT = { is_subject_of = RUS }
			controls_state = 12
		}
		x = 0
		y = 2
		relative_position_id = LIV_Duchy_Kaiser
		cost = 10
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			add_stability = 0.1
			add_popularity = { ideology = paternal_autocrat popularity = 0.01 }
			12 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

focus = {
		id = LIV_Ger_Estland2
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = LIV_Ger_Estland1 }
		available = { has_country_flag = LIV_COL_EST }
		available = {
			has_government = paternal_autocrat
			NOT = { is_subject_of = RUS }
			controls_state = 13
		}
		x = 2
		y = 2
		relative_position_id = LIV_Duchy_Kaiser
		cost = 10
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			add_stability = 0.1
			add_popularity = { ideology = paternal_autocrat popularity = 0.01 }
			13 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

focus = {
		id = LIV_Ger_Baltic
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = LIV_Ger_Estland2 }
		prerequisite = { focus = LIV_Ger_Kurland2 }
		prerequisite = { focus = LIV_Ger_Livland2 }
		available = {
			has_government = paternal_autocrat
			NOT = { is_subject_of = RUS }
		}
		x = 0
		y = 3
		relative_position_id = LIV_Duchy_Kaiser
		cost = 20
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			add_stability = 0.15
			add_war_support = 0.1
			add_popularity = { ideology = paternal_autocrat popularity = 0.05 }
			swap_ideas = { remove_idea = LIV_multi_ling add_idea = LIV_german_majority }
		}
	}

focus = {
		id = LIV_Ger_Integration
		icon = GFX_goal_anschluss
		mutually_exclusive = { focus = LIV_Ger_Puppet focus = LIV_Ger_Indep }
		prerequisite = { focus = LIV_Ger_Baltic }
		available = {
			has_government = paternal_autocrat
			NOT = { is_subject_of = RUS }
			NOT = {LAT = { exists = yes} }
			NOT = {EST = { exists = yes} }
		}
		available = { is_subject_of = GER }
		x = -2
		y = 4
		relative_position_id = LIV_Duchy_Kaiser
		cost = 20
		ai_will_do = {
			factor = 70
		}

		completion_reward = {
			GER = {
				country_event = { id = balticduchy.4 days = 1 }
			}
		}
	}

focus = {
		id = LIV_Ger_Puppet
		icon = GFX_goal_continuous_restrict_freedom
		mutually_exclusive = { focus = LIV_Ger_Integration focus = LIV_Ger_Indep }
		prerequisite = { focus = LIV_Ger_Baltic }
		available = {
			has_government = paternal_autocrat
			NOT = { is_subject_of = RUS }
		}
		available = { is_subject_of = GER }
		x = 0
		y = 4
		relative_position_id = LIV_Duchy_Kaiser
		cost = 20
		ai_will_do = {
			factor = 20
		}

		completion_reward = {
			add_political_power = 100
			add_stability = 0.05
			add_popularity = { ideology = paternal_autocrat popularity = 0.3 }
		}
	}

focus = {
		id = LIV_Education_Ger
		icon = GFX_focus_research
		prerequisite = { focus = LIV_Ger_Puppet focus = LIV_Ger_Indep }
		x = 2
		y = 5
		relative_position_id = LIV_Duchy_Kaiser
		cost = 10
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			add_research_slot = 1
		}
	}

focus = {
		id = LIV_Ger_Indep
		icon = GFX_goal_generic_military_sphere
		mutually_exclusive = { focus = LIV_Ger_Puppet focus = LIV_Ger_Integration }
		prerequisite = { focus = LIV_Ger_Baltic }
		available = {
			has_government = paternal_autocrat
			NOT = { is_subject_of = RUS }
		}
		available = { is_subject_of = GER }
		x = 2
		y = 4
		relative_position_id = LIV_Duchy_Kaiser
		cost = 20
		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			add_popularity = { ideology = paternal_autocrat popularity = 0.1 }
			set_autonomy = { target = LIV autonomy_state = autonomy_free }
			set_cosmetic_tag = LIV_GER
		}
	}

focus = {
		id = LIV_Ger_Autonomy1
		available = { NOT = { LIV = { has_government = national_populist } } }
		icon = GFX_BAT_aut
		prerequisite = { focus = LIV_Emancipation }
		mutually_exclusive = { focus = LIV_Fed1 focus = LIV_Lib1 }
		x = -2
		y = 1
		relative_position_id = LIV_Emancipation
		cost = 10
		ai_will_do = {
			factor = 55
		}

		completion_reward = {
			swap_ideas = { remove_idea = LIV_multi_ling add_idea = LIV_multi_ling_aut }
			add_popularity = { ideology = social_conservative popularity = 0.1 }
			set_country_flag = LIV_progerman
			set_country_flag = LIV_Aut_elections
		}
	}

focus = {
		id = LIV_Ger_Autonomy2
		icon = GFX_goal_generic_consumer_goods
		available = { NOT = { LIV = { has_government = national_populist } } }
		prerequisite = { focus = LIV_Ger_Autonomy1 }
		x = -2
		y = 2
		relative_position_id = LIV_Emancipation
		cost = 10
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			add_autonomy_ratio = { value = 0.5 localization = LIV_autonomy }
			add_popularity = { ideology = social_conservative popularity = 0.1 }
		}
	}

focus = {
		id = LIV_Ger_Autonomy3
		icon = GFX_goal_generic_defence
		available = { NOT = { LIV = { has_government = national_populist } } }
		prerequisite = { focus = LIV_Ger_Autonomy2 }
		x = -2
		y = 3
		relative_position_id = LIV_Emancipation
		cost = 10
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			add_stability = 0.1
		}
	}

focus = {
		id = LIV_Ger_Autonomy4
		icon = GFX_goal_demand_sudetenland
		available = { NOT = { LIV = { has_government = national_populist } }
		compare_autonomy_progress_ratio > 0.3 }
		prerequisite = { focus = LIV_Ger_Autonomy3 }
		x = -2
		y = 4
		relative_position_id = LIV_Emancipation
		cost = 10
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			LIV = { country_event = { id = balticduchy.94 days = 1 } }
		}
	}

focus = {
		id = LIV_Ger_Autonomy5
		icon = GFX_goal_generic_improve_relations
		available = { NOT = { LIV = { has_government = national_populist } }
		is_subject = no }
		prerequisite = { focus = LIV_Ger_Autonomy4 }
		x = -2
		y = 5
		relative_position_id = LIV_Emancipation
		cost = 5
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			add_stability = 0.05
			add_war_support = 0.05
			custom_effect_tooltip = LIV_election_aut_tooltip
		}
	}

focus = {
		id = LIV_Education
		icon = GFX_focus_research
		prerequisite = { focus = LIV_Emancipation }
		x = -4
		y = 1
		relative_position_id = LIV_Emancipation
		cost = 10
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			add_research_slot = 1
		}
	}

focus = {
		id = LIV_Fed1
		icon = GFX_BAT_fed
		prerequisite = { focus = LIV_Emancipation }
		available = { NOT = { LIV = { has_government = national_populist } } }
		mutually_exclusive = { focus = LIV_Ger_Autonomy1 focus = LIV_Lib1 }
		x = 0
		y = 1
		relative_position_id = LIV_Emancipation
		cost = 10
		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			remove_ideas = LIV_multi_ling
			add_stability = -0.15
		}
	}
focus = {
		id = LIV_Fed2
		icon = GFX_focus_generic_diplomatic_treaty
		available = { NOT = { LIV = { has_government = national_populist } } }
		prerequisite = { focus = LIV_Fed1 }
		x = 0
		y = 2
		relative_position_id = LIV_Emancipation
		cost = 10
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			country_event = {id = balticduchy.6 days = 1 }
			add_stability = 0.15
			set_country_flag = LIV_fed
		}
	}
focus = {
		id = LIV_Fed3
		icon = GFX_goal_support_democracy
		available = { NOT = { LIV = { has_government = national_populist } } }
		prerequisite = { focus = LIV_Fed2 }
		x = 0
		y = 3
		relative_position_id = LIV_Emancipation
		cost = 10
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			add_stability = 0.05
			set_country_flag = LIV_Fed_elections
			custom_effect_tooltip = LIV_election_tooltip
		}
	}

focus = {
		id = LIV_Fed4
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = LIV_Fed3 }
		available = { NOT = { LIV = { has_government = national_populist } } }
		x = 0
		y = 4
		relative_position_id = LIV_Emancipation
		cost = 10
		ai_will_do = {
			factor = 100
		}

		completion_reward = {

			random_owned_state = {

					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}

					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
			}

			random_owned_state = {

					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}

					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
			}
		}
	}

focus = {
		id = LIV_Fed5
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = LIV_Fed4 focus = LIV_Lib4 }
		available = {NOT = {LIV = { has_government = national_populist } } }
		x = 1
		y = 5
		relative_position_id = LIV_Emancipation
		cost = 10
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			LIV = { country_event = { id = balticduchy.98 days = 1 } }
		}
	}

focus = {
		id = LIV_Press
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = LIV_Emancipation }
		x = 4
		y = 1
		relative_position_id = LIV_Emancipation
		cost = 10
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			add_political_power = 120
			add_popularity = { ideology = paternal_autocrat popularity = -0.05 }
		}
	}

focus = {
		id = LIV_Lib1
		icon = GFX_BAT_lib
		available = { NOT = { LIV = { has_government = national_populist } } }
		prerequisite = { focus = LIV_Emancipation }
		mutually_exclusive = { focus = LIV_Fed1 focus = LIV_Ger_Autonomy1 }
		x = 2
		y = 1
		relative_position_id = LIV_Emancipation
		cost = 10
		ai_will_do = {
			factor = 35
		}

		completion_reward = {
			add_popularity = { ideology = market_liberal popularity = 0.05 }
			add_popularity = { ideology = social_liberal popularity = 0.05 }
			set_country_flag = LIV_fed
			set_country_flag = LIV_lib_duchy
		}
	}
focus = {
		id = LIV_Lib2
		icon = GFX_goal_generic_intelligence_exchange
		available = { NOT = { LIV = { has_government = national_populist } } }
		prerequisite = { focus = LIV_Lib1 }
		x = 2
		y = 2
		relative_position_id = LIV_Emancipation
		cost = 10
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			set_country_flag = LIV_Fed_elections
			custom_effect_tooltip = LIV_election_tooltip
		}
	}
focus = {
		id = LIV_Lib3
		icon = GFX_goal_generic_major_alliance
		available = { NOT = { LIV = { has_government = national_populist } } }
		prerequisite = { focus = LIV_Lib2 }
		x = 2
		y = 3
		relative_position_id = LIV_Emancipation
		cost = 10
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			remove_ideas = LIV_multi_ling
		}
	}
focus = {
		id = LIV_Lib4
		icon = GFX_goal_generic_construct_civilian
		available = { NOT = { LIV = { has_government = national_populist } } }
		prerequisite = { focus = LIV_Lib3}
		x = 2
		y = 4
		relative_position_id = LIV_Emancipation
		cost = 10
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			add_ideas = LIV_factory
		}
	}
}
